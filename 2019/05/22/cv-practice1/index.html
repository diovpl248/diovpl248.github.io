<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content>
  <meta name="author" content="Sangheon Lee">
  <!-- Open Graph Data -->
  <meta property="og:title" content="1st Sesstion openCV">
  <meta property="og:description" content>
  <meta property="og:site_name" content="diovpl248의 블로그">
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://diovpl248.github.io">
  
    <link rel="alternate" href="/atom.xml" title="diovpl248의 블로그" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>diovpl248의 블로그</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/default-banner-dark.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">1st Sesstion openCV</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/diovpl248">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:lpvoid9034@gmail.com">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By Sangheon Lee</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2019-05-22</span>
            <span class="time">20:22:15</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/Soma/">Soma</a>
</span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/Soma/">#Soma</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <h2 id="openCV의-기본-기능들-활용해보기-1"><a href="#openCV의-기본-기능들-활용해보기-1" class="headerlink" title="openCV의 기본 기능들 활용해보기 1"></a>openCV의 기본 기능들 활용해보기 1</h2><h6 id="이미지-읽기"><a href="#이미지-읽기" class="headerlink" title="이미지 읽기"></a>이미지 읽기</h6><p>imread(‘경로 및 파일명’)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line">img = cv2.imread(<span class="string">'test.jpg'</span>)</span><br></pre></td></tr></table></figure></p>
<h6 id="이미지-색상-변경"><a href="#이미지-색상-변경" class="headerlink" title="이미지 색상 변경"></a>이미지 색상 변경</h6><p>cvtColor(이미지, 색상)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.cvtColor(image_input, cv2.COLOR_BGR2GRAY)</span><br></pre></td></tr></table></figure></p>
<h6 id="이미지-출력"><a href="#이미지-출력" class="headerlink" title="이미지 출력"></a>이미지 출력</h6><p>imshow(‘윈도우창 명’, 이미지)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.imshow(<span class="string">'image'</span>, img)</span><br></pre></td></tr></table></figure></p>
<h6 id="이미지-출력해줄-때-프로그램-대기하기"><a href="#이미지-출력해줄-때-프로그램-대기하기" class="headerlink" title="이미지 출력해줄 때 프로그램 대기하기"></a>이미지 출력해줄 때 프로그램 대기하기</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cv2.waitKey(<span class="number">0</span>)	<span class="comment"># 키보드 입력할때까지 대기</span></span><br><span class="line">cv2.destroyAllWindows()	<span class="comment"># 화면에 나타난 윈도우 모두 제거</span></span><br></pre></td></tr></table></figure>
<h6 id="이미지-저장"><a href="#이미지-저장" class="headerlink" title="이미지 저장"></a>이미지 저장</h6><p>imwrite(‘경로 및 파일명’, 이미지)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.imwrite(<span class="string">'test2.jpg'</span>,img)</span><br></pre></td></tr></table></figure></p>
<h6 id="영상-읽기"><a href="#영상-읽기" class="headerlink" title="영상 읽기"></a>영상 읽기</h6><p>VideoCapture(‘경로 및 파일명’)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">capture = cv2.VideoCapture(<span class="string">"sample_video.mp4"</span>)</span><br></pre></td></tr></table></figure></p>
<h6 id="영상-출력"><a href="#영상-출력" class="headerlink" title="영상 출력"></a>영상 출력</h6><p>capture.isOpened() 비디오 캡쳐 객체가 정상적으로 열렸는지 확인<br>ret, frame = capture.read() 비디오를 한프레임씩 읽는다. 프레임을 제대로 얻었으면 ret에 True가 들어감. frame에는 해당 프레임이 들어감<br>imshow() 프레임을 출력해준다.<br>capture.release() 연 캡쳐 객체를 해제한다.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 영상 끝까지 읽을때까지 반복</span></span><br><span class="line"><span class="keyword">while</span> capture.isOpened():</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 프레임마다 읽는다.</span></span><br><span class="line">    ret, frame = capture.read()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ret <span class="keyword">is</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># 프레임을 출력해준다.:</span></span><br><span class="line">        cv2.imshow(<span class="string">'Input frame'</span>, frame)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 특정키를 누르면 처리를 멈추고 종료한다.</span></span><br><span class="line">        <span class="keyword">if</span> cv2.waitKey(<span class="number">20</span>) &amp; <span class="number">0xFF</span> == ord(<span class="string">'q'</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">capture.release()</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="Q0-openCV를-활용해서-흑백사진-출력하기"><a href="#Q0-openCV를-활용해서-흑백사진-출력하기" class="headerlink" title="Q0. openCV를 활용해서 흑백사진 출력하기"></a>Q0. openCV를 활용해서 흑백사진 출력하기</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 첫번째 매개변수를 'path_image_input'라는 이름으로 지정해서 parser에 추가</span></span><br><span class="line">parser.add_argument(<span class="string">"path_image_input"</span>, help=<span class="string">"path to input image to be displayed"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 두번째 매개변수를 'path_image_output'라는 이름으로 지정해서 parser에 추가 </span></span><br><span class="line">parser.add_argument(<span class="string">"path_image_output"</span>, help=<span class="string">"path of the processed image to be saved"</span>)</span><br><span class="line"></span><br><span class="line">args = vars(parser.parse_args())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 이미지 불러오기</span></span><br><span class="line">image_input = cv2.imread(args[<span class="string">"path_image_input"</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 이미지 출력</span></span><br><span class="line">cv2.imshow(<span class="string">"loaded image"</span>, image_input)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 입력 이미지를 흑백이미지화</span></span><br><span class="line">gray_image = cv2.cvtColor(image_input, cv2.COLOR_BGR2GRAY)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 처리된 이미지 출력</span></span><br><span class="line">cv2.imshow(<span class="string">"gray image"</span>, gray_image)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 저장한다.</span></span><br><span class="line">cv2.imwrite(args[<span class="string">"path_image_output"</span>], gray_image)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 키 입력할때까지 대기</span></span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 모든 창들을 끈다. </span></span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Q1-Grayscale-Frame-Video-코드-작성"><a href="#Q1-Grayscale-Frame-Video-코드-작성" class="headerlink" title="Q1. Grayscale Frame Video 코드 작성"></a>Q1. Grayscale Frame Video 코드 작성</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line"></span><br><span class="line">parser.add_argument(<span class="string">"path_video_input"</span>, help=<span class="string">"path to input video to be displayed"</span>)</span><br><span class="line"></span><br><span class="line">args = vars(parser.parse_args())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 영상파일 읽어옴</span></span><br><span class="line">capture = cv2.VideoCapture(args[<span class="string">"path_video_input"</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 영상이 열렸으면 프레임마다 흑백처리 후 출력해준다.</span></span><br><span class="line"><span class="keyword">while</span> capture.isOpened():</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 프레임을 가져옴</span></span><br><span class="line">    ret, frame = capture.read()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 제대로 가져왔을 때 처리</span></span><br><span class="line">    <span class="keyword">if</span> ret <span class="keyword">is</span> <span class="literal">True</span>:</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 프레임 흑백화</span></span><br><span class="line">        gray_frame = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 프레임 출력</span></span><br><span class="line">        cv2.imshow(<span class="string">'Grayscale input camera'</span>, gray_frame)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 특정 키를 누르면 바로 종료</span></span><br><span class="line">        <span class="keyword">if</span> cv2.waitKey(<span class="number">20</span>) &amp; <span class="number">0xFF</span> == ord(<span class="string">'q'</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">capture.release()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Q2-Camera-Frame-수-측정-코드-작성"><a href="#Q2-Camera-Frame-수-측정-코드-작성" class="headerlink" title="Q2. Camera Frame 수 측정 코드 작성"></a>Q2. Camera Frame 수 측정 코드 작성</h2><p>Q1의 코드에서 프레임수를 측정하는것만 추가했습니다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line"></span><br><span class="line">parser.add_argument(<span class="string">"path_video_input"</span>, help=<span class="string">"path to input video to be displayed"</span>)</span><br><span class="line"></span><br><span class="line">args = vars(parser.parse_args())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 영상파일 읽어옴</span></span><br><span class="line">capture = cv2.VideoCapture(args[<span class="string">"path_video_input"</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 총 프레임수를 저장해줄곳</span></span><br><span class="line">total_frame = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 영상이 열렸으면 프레임마다 흑백처리 후 출력해준다.</span></span><br><span class="line"><span class="keyword">while</span> capture.isOpened():</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 프레임을 가져옴</span></span><br><span class="line">    ret, frame = capture.read()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 제대로 가져왔을 때 처리</span></span><br><span class="line">    <span class="keyword">if</span> ret <span class="keyword">is</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># 프레임수 누적</span></span><br><span class="line">        total_frame += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 프레임 흑백화</span></span><br><span class="line">        gray_frame = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 프레임 출력</span></span><br><span class="line">        cv2.imshow(<span class="string">'Grayscale input camera'</span>, gray_frame)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 특정 키를 누르면 바로 종료</span></span><br><span class="line">        <span class="keyword">if</span> cv2.waitKey(<span class="number">20</span>) &amp; <span class="number">0xFF</span> == ord(<span class="string">'q'</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">capture.release()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 총 프레임수 출력</span></span><br><span class="line">print(total_frame)</span><br><span class="line"></span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        </p><p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

